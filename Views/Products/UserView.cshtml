@model IEnumerable<sklepMVCv2.Models.Product>

@{
    ViewBag.Title = "UserView";
}

<h2>Produkty</h2>




@Styles.Render("~/Content/userView.css")


<form asp-action="UserView" method="get">
    <div class="form-actions no-color">
        <p>
            Wyszukaj produkt <input type="text" name="searchString" value="@ViewData["CurrentFilter"]" />
            <input type="submit" value="Szukaj" class="btn btn-default" /> 
            <input type="button" value="Wróć do listy produktów" class="btn btn-default" onclick="location.href='/Products/UserView';" />

        </p>
    </div>
</form>
<br />
@*<table class="table table-bordered">

    @foreach (var item in Model)
    {

        <tr>
            <td>
                @{
                    if (item.Image != null)
                    {
                        var base64 = Convert.ToBase64String(item.Image);
                        var imgsrc = string.Format("data:image/gif;base64,{0}", base64);
                        <img src='@imgsrc' width="150" height="150" />
                    }

                }
                <h2>@Html.DisplayFor(modelItem => item.Name)</h2>
                <p>Cena: @Html.DisplayFor(modelItem => item.Price) zł</p>
             
                <button type="button" onclick="location.href='@Url.Action("AddToCart","Products",item.ProductID)';return false;">Dodaj do koszyka</button>
            </td>
        </tr>
    }
</table>*@

<div class="product-list">
    @foreach(var item in Model)
            {
                <div class="product-item">
                    @{
                        if (item.Image != null)
                        {
                            var base64 = Convert.ToBase64String(item.Image);
                            var imgsrc = string.Format("data:image/gif;base64,{0}", base64);
                            <img src='@imgsrc' height="150" />
                        }
                    }
                    <h3>@item.Name</h3>
                    <p>@item.Description</p>
                    <div class="price">@item.Price zł</div>
                    
                    <button class="btn btn-dark" onclick="location.href='@Url.Action("AddToCart",new { id = item.ProductID })';return false;">Dodaj do koszyka</button>

                </div>
            }
</div>
