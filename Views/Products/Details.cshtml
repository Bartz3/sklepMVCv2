@model sklepMVCv2.Models.ProductDetailsViewModel

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>


@*@ViewBag.categories*@
<div>
    <h4>Product</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Product.Vat.VatRate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Product.Vat.VatRate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Product.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Product.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Product.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Product.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Product.Price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Product.Price)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Product.Image)
        </dt>

        <dd>

            @{
                if (Model.Product.Image != null)
                {
                    var base64 = Convert.ToBase64String(Model.Product.Image);
                    var imgsrc = string.Format("data:image/gif;base64,{0}", base64);
                    <img src='@imgsrc' />
                }

            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Product.Quantity)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Product.Quantity)
        </dd>
        <dt>
            Kategorie
        </dt>
        <dd>
            @foreach (var category in @ViewBag.categories)
            {
                <p>@category</p>
            }
        </dd>
        <dt>Dodatkowe pliki</dt>
            @foreach (var pdf in Model.PdfFiles)
            {


                    <dd>@pdf.Name @Html.ActionLink("Download", "Download", "Products", new { id = pdf.ExtraFileID }, null)</dd>


            }



    </dl>
</div>
<p>
	@{ if ((string)Session["PreviousView"] == "UserView")
		{

			@Html.ActionLink("Back to List", "UserView")}
		else if ((string)Session["PreviousView"] == "AdminView")
		{
			@Html.ActionLink("Edit", "Edit", new { id = Model.Product.ProductID })
			@Html.Raw(" | ")
			@Html.ActionLink("Back to List", "Index")}
	}
</p>
